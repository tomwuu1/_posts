---
title: clean code
date: 2024-09-12 10:57:24
tags:
---

# 函数

## 原则

1. 短小
2. 单一职责
3. 每个函数一个抽象层级
4. 用抽象工厂隐藏switch语句
5. 好名字
   1. 一元函数，函数和参数形成动词/名词对
   2. 描述性的名字
6. 函数参数的个数最好是0，其次是1，再次是2
7. 分隔指令和询问：函数要么做什么事，要么回答什么事
8. DRY（Don't Repeat Yourself)

## 技巧

1. if语句/else语句/while语句，其中的代码块应该只有一行（函数调用语句）。函数的缩进层级不该多于1/2层
2. 方法组织的顺序，抽象层次高的放在前面
3. 当函数需要多个参数的时候，考虑封装成一个对象
4. 用异常替代返回错误码
   1. 避免调用者立刻处理错误
   2. 错误处理代码能从主路径中分离出来
5. 抽离try/catch：错误处理就是一件事，如果关键字try在某个函数中存在，应该是这个函数的第一个单词

